          <v-stepper-content step="2" >
            <div v-if="industry.has_onsite_wwtp == 1 && stepper_model == 2">
              <v-row
                  align="center"
                  v-for = "input in array_intersection(onsite_wwtp_inputs, basic_inputs)"
                  :key="input"

              >
                <v-col cols="8" >
                  <div style="width: 100%;">
                    <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                  <v-tooltip bottom v-if="required.includes(input)">
                  <template v-slot:activator="{ on, attrs }">
                    <span
                        v-bind="attrs"
                        v-on="on"
                        style="color: red"
                    >*</span>
                  </template>
                  <span>Required input</span>
                </v-tooltip>

                </span>
                      <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                             tile
                             color="#b62373"
                             x-small
                             @click="onsite_wwtp_model[input] = button_estimations(input)"
                      >
                        Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                      </v-btn>
                    </div>
                    <div v-if="select_estimation.includes(input)" style="width: 100%">
                      <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                        <option
                            v-for="item in select_estimations(input)"
                            :value="item.value"
                        >
                          <!--Desplegable amb estimació-->
                          {{item.name}} ({{item.value.toFixed(3)}})
                        </option>
                        <option :value="onsite_wwtp_model[input]">Custom value</option>
                      </select>
                    </div>

                  </div>
                </v-col>
                <v-col cols="4">
                  <div>
                    <div>
                      <v-select
                          v-if="type_option[input]"
                          v-model="onsite_wwtp_model[input]"
                          item-text="text"
                          item-value="value"
                          :items="type_option[input].items"
                          label="Select"
                      >
                      </v-select>
                      <v-text-field
                          v-else
                          v-model="onsite_wwtp_model[input]"
                          :suffix=user_inputs[input].unit
                          type="number"
                      ></v-text-field>

                    </div>
                  </div>

                </v-col>

              </v-row>
              <v-expansion-panels style="padding-top: 20px">
                <v-expansion-panel>
                  <v-expansion-panel-header color="#1c195b">
                    <h3 style="color: white">SHOW ADVANCED INPUTS</h3>
                    <template v-slot:actions>
                      <v-icon color="white">
                        $expand
                      </v-icon>
                    </template>
                  </v-expansion-panel-header>
                  <v-expansion-panel-content style="padding: 30px">

                    <v-expansion-panels style="padding-top: 20px">
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Effluent pollution</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "pollutant in model_selected_pollutants"
                              :key="pollutant"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                                  <span>
                                    Concentration of {{pollutant}} in the WWTP effluent
                                  </span>
                                  <v-btn v-if="button_estimation.includes('wwt_pollutants_effl') && !isNaN(button_estimations('wwt_pollutants_effl', pollutant)) && button_estimations('wwt_pollutants_effl', pollutant) != null"
                                         tile
                                         x-small
                                         color="#b62373"
                                         @click="onsite_wwtp_model['wwt_pollutants_effl'][pollutant] = button_estimations('wwt_pollutants_effl', pollutant)"
                                  >
                                    Estimation:  {{button_estimations('wwt_pollutants_effl', pollutant)}}<!-- Botó amb estimació -->
                                  </v-btn>

                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <v-text-field
                                  v-model="onsite_wwtp_model['wwt_pollutants_effl'][pollutant]"
                                  :suffix="user_inputs['wwt_pollutants_effl'].unit"
                                  type="number"
                              ></v-text-field>
                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Fuel engines</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_fuel_engines"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Biogas produced from anaerobic digestion</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_biogas_from_anaerobic"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Fuel used in water reuse trucks</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_water_reuse_trucks"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge storage in WWTP</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_sludge_Storage"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge composting in WWTP</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_sludge_composting"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge incineration</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_sludge_incineration"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge sent to dry application</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_application"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge landfilling</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_landfilling"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge stockpiling</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_stockpiling"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge truck transportation to disposal site</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_truck_transportation"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="onsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "onsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="onsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="onsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="onsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>

                    </v-expansion-panels>
                  </v-expansion-panel-content>
                </v-expansion-panel>
              </v-expansion-panels>


            </div>
            <br>

            <v-tooltip bottom :disabled="!tab_2_disabled">
              <template v-slot:activator="{ on }">
                <div v-on="on" class="d-inline-block">
                  <v-btn
                      @click="tab_2_continue"
                      :disabled="tab_2_disabled"
                      tile
                      color="#b62373"

                  >
                    SAVE AND CONTINUE
                  </v-btn>
                </div>
              </template>
              <span>Please, fill in the required items before continue.</span>
            </v-tooltip>

          </v-stepper-content>  <!-- Onsite WWTP -->

          <v-stepper-content step="3" >


            <div v-if="industry.has_direct_discharge == 1 && stepper_model == 3">
              <v-row
                  align="center"
                  v-for = "input in direct_discharge_inputs"
                  :key="input"

              >
                <v-col cols="8" >
                  <div style="width: 100%;">
                    <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                  <v-tooltip bottom v-if="required.includes(input)">
                    <template v-slot:activator="{ on, attrs }">
                        <span
                            v-bind="attrs"
                            v-on="on"
                            style="color: red"
                        >*</span>
                    </template>
                    <span>Required input</span>
                  </v-tooltip>
                </span>

                      <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                             tile
                             color="#b62373"
                             x-small
                             @click="direct_discharge_model[input] = button_estimations(input)"
                      >
                        Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                      </v-btn>
                    </div>
                    <div v-if="select_estimation.includes(input)" style="width: 100%">
                      <select v-model = "direct_discharge_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                        <option
                            v-for="item in select_estimations(input)"
                            :value="item.value"
                        >
                          <!--Desplegable amb estimació-->
                          {{item.name}} ({{item.value.toFixed(3)}})
                        </option>
                        <option :value="direct_discharge_model[input]">Custom value</option>
                      </select>
                    </div>

                  </div>
                </v-col>
                <v-col cols="4">
                  <div>
                    <div>
                      <v-select
                          v-if="type_option[input]"
                          v-model="direct_discharge_model[input]"
                          item-text="text"
                          item-value="value"
                          :items="type_option[input].items"
                          label="Select"
                      >
                      </v-select>
                      <v-text-field
                          v-else
                          v-model="direct_discharge_model[input]"
                          :suffix=user_inputs[input].unit
                          type="number"
                      ></v-text-field>

                    </div>
                  </div>

                </v-col>

              </v-row>


            </div>

            <br>

            <v-tooltip bottom :disabled="!tab_3_disabled">
              <template v-slot:activator="{ on }">
                <div v-on="on" class="d-inline-block">
                  <v-btn
                      @click="tab_3_continue"
                      :disabled="tab_3_disabled"
                      tile
                      color="#b62373"

                  >
                    SAVE AND CONTINUE
                  </v-btn>
                </div>
              </template>
              <span>Please, fill in the required items before continue.</span>
            </v-tooltip>

          </v-stepper-content>  <!-- Direct discharge -->

          <v-stepper-content step="4" >

            <div v-if="industry.has_offsite_wwtp == 1 && stepper_model == 4">
              <v-row
                  align="center"
                  v-for = "input in array_intersection(offsite_wwtp_inputs, basic_inputs)"
                  :key="input"

              >
                <v-col cols="8" >
                  <div style="width: 100%;">
                    <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                      <span>
                        <span v-if="input === 'wwt_vol_trea'">
                          Volume of industrial wastewater sent to the offsite WWTP every day
                        </span>
                        <span v-else>
                          {{user_inputs[input].question}}
                        </span>
                        <v-tooltip bottom v-if="required.includes(input)">
                          <template v-slot:activator="{ on, attrs }">
                              <span
                                  v-bind="attrs"
                                  v-on="on"
                                  style="color: red"
                              >*</span>
                          </template>
                          <span>Required input</span>
                        </v-tooltip>
                      </span>
                      <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                             tile
                             color="#b62373"
                             x-small
                             @click="offsite_wwtp_model[input] = button_estimations(input)"
                      >
                        Estimation:  {{parseFloat(button_estimations(input)).toExponential(3)}}<!-- Botó amb estimació -->
                      </v-btn>
                    </div>
                    <div v-if="select_estimation.includes(input)" style="width: 100%">
                      <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                        <option
                            v-for="item in select_estimations(input)"
                            :value="item.value"
                        >
                          <!--Desplegable amb estimació-->
                          {{item.name}} ({{item.value.toFixed(3)}})
                        </option>
                        <option :value="offsite_wwtp_model[input]">Custom value</option>
                      </select>
                    </div>

                  </div>
                </v-col>
                <v-col cols="4">
                  <div>
                    <div>
                      <v-select
                          v-if="type_option[input]"
                          v-model="offsite_wwtp_model[input]"
                          item-text="text"
                          item-value="value"
                          :items="type_option[input].items"
                          label="Select"
                      >
                      </v-select>
                      <v-text-field
                          v-else
                          v-model="offsite_wwtp_model[input]"
                          :suffix=user_inputs[input].unit
                          type="number"
                      ></v-text-field>

                    </div>
                  </div>

                </v-col>

              </v-row>
              <v-expansion-panels style="padding-top: 20px">
                <v-expansion-panel>
                  <v-expansion-panel-header color="#1c195b">
                    <h3 style="color: white">SHOW ADVANCED INPUTS</h3>
                    <template v-slot:actions>
                      <v-icon color="white">
                        $expand
                      </v-icon>
                    </template>
                  </v-expansion-panel-header>
                  <v-expansion-panel-content style="padding: 30px">
                    <v-expansion-panels style="padding-top: 20px">
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Effluent pollution</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "pollutant in model_selected_pollutants"
                              :key="pollutant"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                                  <span>
                                    Concentration of {{pollutant}} in the WWTP effluent
                                  </span>
                                  <v-btn v-if="button_estimation.includes('wwt_pollutants_effl') && !isNaN(button_estimations('wwt_pollutants_effl', pollutant)) && button_estimations('wwt_pollutants_effl', pollutant) != null"
                                         tile
                                         x-small
                                         color="#b62373"
                                         @click="offsite_wwtp_model['wwt_pollutants_effl'][pollutant] = button_estimations('wwt_pollutants_effl', pollutant)"
                                  >
                                    Estimation:  {{button_estimations('wwt_pollutants_effl', pollutant)}}<!-- Botó amb estimació -->
                                  </v-btn>

                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <v-text-field
                                  v-model="offsite_wwtp_model['wwt_pollutants_effl'][pollutant]"
                                  :suffix="user_inputs['wwt_pollutants_effl'].unit"
                                  type="number"
                              ></v-text-field>
                            </v-col>

                          </v-row>

                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Fuel engines</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_fuel_engines"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Biogas produced from anaerobic digestion</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_biogas_from_anaerobic"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Fuel used in water reuse trucks</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_water_reuse_trucks"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge storage in WWTP</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_sludge_Storage"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge composting in WWTP</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_sludge_composting"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge incineration</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_sludge_incineration"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge sent to dry application</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_application"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge landfilling</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_landfilling"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge stockpiling</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_stockpiling"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                      <v-expansion-panel>
                        <v-expansion-panel-header >
                          <h3>Sludge truck transportation to disposal site</h3>
                        </v-expansion-panel-header>
                        <v-expansion-panel-content style="padding: 30px">
                          <v-row
                              align="center"
                              v-for = "input in advanced_truck_transportation"
                              :key="input"

                          >
                            <v-col cols="8" >
                              <div style="width: 100%;">
                                <div style="height: 100%; width: 100%;  display: flex; justify-content: space-between; max-width: 90%">
                <span>
                  {{user_inputs[input].question}}
                </span>
                                  <v-btn v-if="button_estimation.includes(input) && !isNaN(button_estimations(input)) && button_estimations(input) != null"
                                         tile
                                         color="#b62373"
                                         x-small
                                         @click="offsite_wwtp_model[input] = button_estimations(input)"
                                  >
                                    Estimation:  {{button_estimations(input).toExponential(3)}}<!-- Botó amb estimació -->
                                  </v-btn>
                                </div>
                                <div v-if="select_estimation.includes(input)" style="width: 100%">
                                  <select v-model = "offsite_wwtp_model[input]" style="max-width:90%;background-color: #d9d9d5; width: 90%; -webkit-appearance: menulist"  >
                                    <option
                                        v-for="item in select_estimations(input)"
                                        :value="item.value"
                                    >
                                      <!--Desplegable amb estimació-->
                                      {{item.name}} ({{item.value.toFixed(3)}})
                                    </option>
                                    <option :value="offsite_wwtp_model[input]">Custom value</option>
                                  </select>
                                </div>

                              </div>
                            </v-col>
                            <v-col cols="4">
                              <div>
                                <div>
                                  <v-select
                                      v-if="type_option[input]"
                                      v-model="offsite_wwtp_model[input]"
                                      item-text="text"
                                      item-value="value"
                                      :items="type_option[input].items"
                                      label="Select"
                                  >
                                  </v-select>
                                  <v-text-field
                                      v-else
                                      v-model="offsite_wwtp_model[input]"
                                      :suffix=user_inputs[input].unit
                                      type="number"
                                  ></v-text-field>

                                </div>
                              </div>

                            </v-col>

                          </v-row>
                        </v-expansion-panel-content>
                      </v-expansion-panel>
                    </v-expansion-panels>

                  </v-expansion-panel-content>
                </v-expansion-panel>
              </v-expansion-panels>


            </div>
            <br>
            <v-tooltip bottom :disabled="!tab_4_disabled">
              <template v-slot:activator="{ on }">
                <div v-on="on" class="d-inline-block">
                  <v-btn
                      @click="tab_4_continue"
                      :disabled="tab_4_disabled"
                      tile
                      color="#b62373"

                  >
                    SAVE AND CONTINUE
                  </v-btn>
                </div>
              </template>
              <span>Please, fill in the required items before continue.</span>
            </v-tooltip>

          </v-stepper-content>  <!-- offsite wwtp -->
